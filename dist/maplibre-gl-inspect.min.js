!function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).MaplibreInspect=t()}(function(){return function r(o,i,s){function a(e,t){if(!i[e]){if(!o[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(u)return u(e,!0);throw(n=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",n}n=i[e]={exports:{}},o[e][0].call(n.exports,function(t){return a(o[e][1][t]||t)},n,n.exports,r,o,i,s)}return i[e].exports}for(var u="function"==typeof require&&require,t=0;t<s.length;t++)a(s[t]);return a}({1:[function(t,e,n){t=t("./lib/MaplibreInspect");e.exports=t},{"./lib/MaplibreInspect":3}],2:[function(t,e,n){function r(t){var e,n;t=Object.assign({show:!0,onToggle:function(){}},t),this._btn=((n=document.createElement("button")).className="maplibregl-ctrl-icon maplibregl-ctrl-inspect",n.type="button",n["aria-label"]="Inspect",n),this._btn.onclick=t.onToggle,this.elem=(e=this._btn,n=t.show,(t=document.createElement("div")).className="maplibregl-ctrl maplibregl-ctrl-group",t.appendChild(e),n||(t.style.display="none"),t)}r.prototype.setInspectIcon=function(){this._btn.className="maplibregl-ctrl-icon maplibregl-ctrl-inspect"},r.prototype.setMapIcon=function(){this._btn.className="maplibregl-ctrl-icon maplibregl-ctrl-map"},e.exports=r},{}],3:[function(t,e,n){var r=t("./stylegen"),o=t("./InspectButton"),i=t("lodash.isequal"),s=t("./renderPopup"),a=t("./colors");function u(t){if(!(this instanceof u))throw new Error("MaplibreInspect needs to be called with the new keyword");var e=null;window.maplibregl?e=new window.maplibregl.Popup({closeButton:!1,closeOnClick:!1}):t.popup||console.error("Maplibre GL JS can not be found. Make sure to include it or pass an initialized maplibregl Popup to MaplibreInspect if you are using moduleis."),this.options=Object.assign({showInspectMap:!1,showInspectButton:!0,showInspectMapPopup:!0,showMapPopup:!1,showMapPopupOnHover:!0,showInspectMapPopupOnHover:!0,blockHoverPopupOnClick:!1,keepInspectOnTileChange:!1,backgroundColor:"#fff",assignLayerColor:a.brightColor,buildInspectStyle:r.generateInspectStyle,renderPopup:s,popup:e,selectThreshold:5,useInspectStyle:!0,queryParameters:{},sources:{}},t),this.sources=this.options.sources,this.assignLayerColor=this.options.assignLayerColor,this.toggleInspector=this.toggleInspector.bind(this),this._popup=this.options.popup,this._popupBlocked=!1,this._showInspectMap=this.options.showInspectMap,this._keepInspectOnStyleChange=this.options.keepInspectOnTileChange,this._onSourceChange=this._onSourceChange.bind(this),this._onMousemove=this._onMousemove.bind(this),this._onStyleChange=this._onStyleChange.bind(this),this._originalStyle=null,this._toggle=new o({show:this.options.showInspectButton,onToggle:this.toggleInspector.bind(this)})}u.prototype.toggleInspector=function(){this._showInspectMap=!this._showInspectMap,this.render()},u.prototype._inspectStyle=function(){var t=r.generateColoredLayers(this.sources,this.assignLayerColor);return this.options.buildInspectStyle(this._map.getStyle(),t,{backgroundColor:this.options.backgroundColor})},u.prototype.render=function(){var t;this._showInspectMap?(this.options.useInspectStyle&&this._map.setStyle((t=this._inspectStyle(),Object.assign(t,{metadata:Object.assign({},t.metadata,{"maplibregl-inspect:inspect":!0})}))),this._toggle.setMapIcon()):this._originalStyle&&(this._popup&&this._popup.remove(),this.options.useInspectStyle&&this._map.setStyle(this._originalStyle),this._toggle.setInspectIcon())},u.prototype._onSourceChange=function(){var n=this.sources,r=this._map,t=Object.assign({},n);Object.keys(r.style.sourceCaches).forEach(function(t){var e=r.style.sourceCaches[t]._source.vectorLayerIds;e&&(n[t]=e)}),i(t,n)||this.render()},u.prototype._onStyleChange=function(){var t,e=this._map.getStyle();(t=e).metadata&&t.metadata["maplibregl-inspect:inspect"]||(this._originalStyle=e,this._showInspectMap&&this._keepInspectOnStyleChange?this.render():this._showInspectMap&&!this._keepInspectOnStyleChange&&(this._showInspectMap=!this._showInspectMap,this._toggle.setInspectIcon(),this._popup&&this._popup.remove()))},u.prototype._onMousemove=function(t){if((this.options.showInspectMapPopup||!this._showInspectMap)&&(this.options.showMapPopup||this._showInspectMap)){var e=this._map.queryRenderedFeatures(t.point);if(this._map.getCanvas().style.cursor=e.length?"pointer":"",this._showInspectMap){if(!this.options.showInspectMapPopup)return;if("mousemove"===t.type&&!this.options.showInspectMapPopupOnHover)return;"click"===t.type&&this.options.showInspectMapPopupOnHover&&this.options.blockHoverPopupOnClick&&(this._popupBlocked=!this._popupBlocked)}else{if(!this.options.showMapPopup)return;if("mousemove"===t.type&&!this.options.showMapPopupOnHover)return;"click"===t.type&&this.options.showMapPopupOnHover&&this.options.blockHoverPopupOnClick&&(this._popupBlocked=!this._popupBlocked)}!this._popupBlocked&&this._popup&&(e.length?(this._popup.setLngLat(t.lngLat),"string"==typeof(e=this.options.renderPopup(e))?this._popup.setHTML(e):this._popup.setDOMContent(e),this._popup.addTo(this._map)):this._popup.remove())}},u.prototype.onAdd=function(t){return this._map=t,0===Object.keys(this.sources).length&&(t.on("tiledata",this._onSourceChange),t.on("sourcedata",this._onSourceChange)),t.on("styledata",this._onStyleChange),t.on("load",this._onStyleChange),t.on("mousemove",this._onMousemove),t.on("click",this._onMousemove),this._toggle.elem},u.prototype.onRemove=function(){this._map.off("styledata",this._onStyleChange),this._map.off("load",this._onStyleChange),this._map.off("tiledata",this._onSourceChange),this._map.off("sourcedata",this._onSourceChange),this._map.off("mousemove",this._onMousemove);var t=this._toggle.elem;t.parentNode.removeChild(t),this._map=void 0},e.exports=u},{"./InspectButton":2,"./colors":4,"./renderPopup":5,"./stylegen":6,"lodash.isequal":7}],4:[function(t,e,n){var o=t("randomcolor");n.brightColor=function(t,e){var n="bright",r=null;return/water|ocean|lake|sea|river/.test(t)&&(r="blue"),/state|country|place/.test(t)&&(r="pink"),/road|highway|transport/.test(t)&&(r="orange"),/contour|building/.test(t)&&(r="monochrome"),/building/.test(t)&&(n="dark"),/contour|landuse/.test(t)&&(r="yellow"),/wood|forest|park|landcover/.test(t)&&(r="green"),"rgba("+o({luminosity:n,hue:r,seed:t,format:"rgbArray"}).concat([e||1]).join(", ")+")"}},{randomcolor:8}],5:[function(t,e,n){function o(t,e){return'<div class="maplibregl-inspect_property"><div class="maplibregl-inspect_property-name">'+t+'</div><div class="maplibregl-inspect_property-value">'+(null==(e=e)?e:e instanceof Date?e.toLocaleString():"object"==typeof e||"number"==typeof e||"string"==typeof e?e.toString():e)+"</div></div>"}function r(t){return t.map(function(t){return'<div class="maplibregl-inspect_feature">'+(n='<div class="maplibregl-inspect_layer">'+((e=t).layer["source-layer"]||e.layer.source)+"</div>",r=o("$type",e.geometry.type),t=Object.keys(e.properties).map(function(t){return o(t,e.properties[t])}),[n,r].concat(t).join(""))+"</div>";var e,n,r}).join("")}e.exports=function(t){return'<div class="maplibregl-inspect_popup">'+r(t)+"</div>"}},{}],6:[function(t,e,n){function a(t,e,n){t={id:[e,n,"circle"].join("_"),source:e,type:"circle",paint:{"circle-color":t,"circle-radius":2},filter:["==","$type","Point"]};return n&&(t["source-layer"]=n),t}function u(t,e,n,r){t={id:[n,r,"polygon"].join("_"),source:n,type:"fill",paint:{"fill-color":t,"fill-antialias":!0,"fill-outline-color":t},filter:["==","$type","Polygon"]};return r&&(t["source-layer"]=r),t}function c(t,e,n){t={id:[e,n,"line"].join("_"),source:e,layout:{"line-join":"round","line-cap":"round"},type:"line",paint:{"line-color":t},filter:["==","$type","LineString"]};return n&&(t["source-layer"]=n),t}n.polygonLayer=u,n.lineLayer=c,n.circleLayer=a,n.generateInspectStyle=function(t,e,n){return n={id:"background",type:"background",paint:{"background-color":(n=Object.assign({backgroundColor:"#fff"},n)).backgroundColor}},Object.assign(t,{layers:[n].concat(e)})},n.generateColoredLayers=function(e,n){var r=[],o=[],i=[];function s(t){t=n.bind(null,t);return{circle:t(.8),line:t(.6),polygon:t(.3),polygonOutline:t(.6),default:t(1)}}return Object.keys(e).forEach(function(n){var t=e[n];t?t.forEach(function(t){var e=s(t);o.push(a(e.circle,n,t)),i.push(c(e.line,n,t)),r.push(u(e.polygon,e.polygonOutline,n,t))}):(t=s(n),o.push(a(t.circle,n)),i.push(c(t.line,n)),r.push(u(t.polygon,t.polygonOutline,n)))}),r.concat(i).concat(o)}},{}],7:[function(t,Ft,Nt){!function($t){!function(){var r="__lodash_hash_undefined__",b=1,g=2,h=9007199254740991,l="[object Arguments]",f="[object Array]",e="[object AsyncFunction]",d="[object Boolean]",y="[object Date]",_="[object Error]",n="[object Function]",o="[object GeneratorFunction]",v="[object Map]",m="[object Number]",i="[object Null]",w="[object Object]",s="[object Promise]",a="[object Proxy]",j="[object RegExp]",I="[object Set]",k="[object String]",M="[object Symbol]",u="[object Undefined]",c="[object WeakMap]",O="[object ArrayBuffer]",S="[object DataView]",p=/^\[object .+?Constructor\]$/,C=/^(?:0|[1-9]\d*)$/,A={};A["[object Float32Array]"]=A["[object Float64Array]"]=A["[object Int8Array]"]=A["[object Int16Array]"]=A["[object Int32Array]"]=A["[object Uint8Array]"]=A["[object Uint8ClampedArray]"]=A["[object Uint16Array]"]=A["[object Uint32Array]"]=!0,A[l]=A[f]=A[O]=A[d]=A[S]=A[y]=A[_]=A[n]=A[v]=A[m]=A[w]=A[j]=A[I]=A[k]=A[c]=!1;var t="object"==typeof $t&&$t&&$t.Object===Object&&$t,P="object"==typeof self&&self&&self.Object===Object&&self,z=t||P||Function("return this")(),L="object"==typeof Nt&&Nt&&!Nt.nodeType&&Nt,x=L&&"object"==typeof Ft&&Ft&&!Ft.nodeType&&Ft,E=x&&x.exports===L,R=E&&t.process,B=function(){try{return R&&R.binding&&R.binding("util")}catch(t){}}(),P=B&&B.isTypedArray;function T(t){var n=-1,r=Array(t.size);return t.forEach(function(t,e){r[++n]=[e,t]}),r}function $(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var F,N,x=Array.prototype,L=Function.prototype,H=Object.prototype,t=z["__core-js_shared__"],q=L.toString,U=H.hasOwnProperty,D=(B=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||""))?"Symbol(src)_1."+B:"",G=H.toString,V=RegExp("^"+q.call(U).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),L=E?z.Buffer:void 0,t=z.Symbol,W=z.Uint8Array,J=H.propertyIsEnumerable,X=x.splice,K=t?t.toStringTag:void 0,Q=Object.getOwnPropertySymbols,B=L?L.isBuffer:void 0,Y=(F=Object.keys,N=Object,function(t){return F(N(t))}),E=It(z,"DataView"),Z=It(z,"Map"),x=It(z,"Promise"),L=It(z,"Set"),z=It(z,"WeakMap"),tt=It(Object,"create"),et=Ot(E),nt=Ot(Z),rt=Ot(x),ot=Ot(L),it=Ot(z),t=t?t.prototype:void 0,st=t?t.valueOf:void 0;function at(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function ut(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function ct(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function pt(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new ct;++e<n;)this.add(t[e])}function lt(t){t=this.__data__=new ut(t);this.size=t.size}function ht(t,e){var n,r,o,i=At(t),s=!i&&Ct(t),a=!i&&!s&&Pt(t),u=!i&&!s&&!a&&Bt(t),c=i||s||a||u,p=c?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],l=p.length;for(n in t)!e&&!U.call(t,n)||c&&("length"==n||a&&("offset"==n||"parent"==n)||u&&("buffer"==n||"byteLength"==n||"byteOffset"==n)||(r=n,!!(o=null==(o=l)?h:o)&&("number"==typeof r||C.test(r))&&-1<r&&r%1==0&&r<o))||p.push(n);return p}function ft(t,e){for(var n=t.length;n--;)if(St(t[n][0],e))return n;return-1}function dt(t,e,n){e=e(t);return At(t)?e:function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}(e,n(t))}function gt(t){return null==t?void 0===t?u:i:K&&K in Object(t)?function(t){var e=U.call(t,K),n=t[K];try{var r=!(t[K]=void 0)}catch(t){}var o=G.call(t);r&&(e?t[K]=n:delete t[K]);return o}(t):G.call(t)}function yt(t){return Et(t)&&gt(t)==l}function _t(t,e,n,r,o){return t===e||(null==t||null==e||!Et(t)&&!Et(e)?t!=t&&e!=e:function(t,e,n,r,o,i){var s=At(t),a=At(e),u=s?f:Mt(t),c=a?f:Mt(e),p=(u=u==l?w:u)==w,a=(c=c==l?w:c)==w,c=u==c;if(c&&Pt(t)){if(!Pt(e))return!1;p=!(s=!0)}if(c&&!p)return i=i||new lt,s||Bt(t)?mt(t,e,n,r,o,i):function(t,e,n,r,o,i,s){switch(n){case S:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case O:return t.byteLength==e.byteLength&&i(new W(t),new W(e))?!0:!1;case d:case y:case m:return St(+t,+e);case _:return t.name==e.name&&t.message==e.message;case j:case k:return t==e+"";case v:var a=T;case I:var u=r&b;if(a=a||$,t.size!=e.size&&!u)return!1;u=s.get(t);if(u)return u==e;r|=g,s.set(t,e);a=mt(a(t),a(e),r,o,i,s);return s.delete(t),a;case M:if(st)return st.call(t)==st.call(e)}return!1}(t,e,u,n,r,o,i);if(!(n&b)){p=p&&U.call(t,"__wrapped__"),a=a&&U.call(e,"__wrapped__");if(p||a){p=p?t.value():t,a=a?e.value():e;return i=i||new lt,o(p,a,n,r,i)}}return c&&(i=i||new lt,function(t,e,n,r,o,i){var s=n&b,a=wt(t),u=a.length,c=wt(e).length;if(u!=c&&!s)return!1;var p=u;for(;p--;){var l=a[p];if(!(s?l in e:U.call(e,l)))return!1}var h=i.get(t);if(h&&i.get(e))return h==e;var f=!0;i.set(t,e),i.set(e,t);var d=s;for(;++p<u;){l=a[p];var g,y=t[l],_=e[l];if(!(void 0===(g=r?s?r(_,y,l,e,t,i):r(y,_,l,t,e,i):g)?y===_||o(y,_,n,r,i):g)){f=!1;break}d=d||"constructor"==l}f&&!d&&(c=t.constructor,h=e.constructor,c!=h&&"constructor"in t&&"constructor"in e&&!("function"==typeof c&&c instanceof c&&"function"==typeof h&&h instanceof h)&&(f=!1));return i.delete(t),i.delete(e),f}(t,e,n,r,o,i))}(t,e,n,r,_t,o))}function bt(t){var e;return xt(t)&&(e=t,!(D&&D in e))&&(zt(t)?V:p).test(Ot(t))}function vt(t){if(n="function"==typeof(n=(e=t)&&e.constructor)&&n.prototype||H,e!==n)return Y(t);var e,n,r,o=[];for(r in Object(t))U.call(t,r)&&"constructor"!=r&&o.push(r);return o}function mt(t,e,n,r,o,i){var s=n&b,a=t.length,u=e.length;if(a!=u&&!(s&&a<u))return!1;u=i.get(t);if(u&&i.get(e))return u==e;var c=-1,p=!0,l=n&g?new pt:void 0;for(i.set(t,e),i.set(e,t);++c<a;){var h,f=t[c],d=e[c];if(void 0!==(h=r?s?r(d,f,c,e,t,i):r(f,d,c,t,e,i):h)){if(h)continue;p=!1;break}if(l){if(!function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return 1}(e,function(t,e){return!l.has(e)&&(f===t||o(f,t,n,r,i))&&l.push(e)})){p=!1;break}}else if(f!==d&&!o(f,d,n,r,i)){p=!1;break}}return i.delete(t),i.delete(e),p}function wt(t){return dt(t,Tt,kt)}function jt(t,e){var n,r=t.__data__;return("string"==(t=typeof(n=e))||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==n:null===n)?r["string"==typeof e?"string":"hash"]:r.map}function It(t,e){e=e,e=null==(t=t)?void 0:t[e];return bt(e)?e:void 0}at.prototype.clear=function(){this.__data__=tt?tt(null):{},this.size=0},at.prototype.delete=function(t){return t=this.has(t)&&delete this.__data__[t],this.size-=t?1:0,t},at.prototype.get=function(t){var e=this.__data__;if(tt){var n=e[t];return n===r?void 0:n}return U.call(e,t)?e[t]:void 0},at.prototype.has=function(t){var e=this.__data__;return tt?void 0!==e[t]:U.call(e,t)},at.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=tt&&void 0===e?r:e,this},ut.prototype.clear=function(){this.__data__=[],this.size=0},ut.prototype.delete=function(t){var e=this.__data__;return!((t=ft(e,t))<0)&&(t==e.length-1?e.pop():X.call(e,t,1),--this.size,!0)},ut.prototype.get=function(t){var e=this.__data__;return(t=ft(e,t))<0?void 0:e[t][1]},ut.prototype.has=function(t){return-1<ft(this.__data__,t)},ut.prototype.set=function(t,e){var n=this.__data__,r=ft(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},ct.prototype.clear=function(){this.size=0,this.__data__={hash:new at,map:new(Z||ut),string:new at}},ct.prototype.delete=function(t){return t=jt(this,t).delete(t),this.size-=t?1:0,t},ct.prototype.get=function(t){return jt(this,t).get(t)},ct.prototype.has=function(t){return jt(this,t).has(t)},ct.prototype.set=function(t,e){var n=jt(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},pt.prototype.add=pt.prototype.push=function(t){return this.__data__.set(t,r),this},pt.prototype.has=function(t){return this.__data__.has(t)},lt.prototype.clear=function(){this.__data__=new ut,this.size=0},lt.prototype.delete=function(t){var e=this.__data__,t=e.delete(t);return this.size=e.size,t},lt.prototype.get=function(t){return this.__data__.get(t)},lt.prototype.has=function(t){return this.__data__.has(t)},lt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof ut){var r=n.__data__;if(!Z||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ct(r)}return n.set(t,e),this.size=n.size,this};var kt=Q?function(e){return null==e?[]:(e=Object(e),function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var s=t[n];e(s,n,t)&&(i[o++]=s)}return i}(Q(e),function(t){return J.call(e,t)}))}:function(){return[]},Mt=gt;function Ot(t){if(null!=t){try{return q.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function St(t,e){return t===e||t!=t&&e!=e}(E&&Mt(new E(new ArrayBuffer(1)))!=S||Z&&Mt(new Z)!=v||x&&Mt(x.resolve())!=s||L&&Mt(new L)!=I||z&&Mt(new z)!=c)&&(Mt=function(t){var e=gt(t),t=e==w?t.constructor:void 0,t=t?Ot(t):"";if(t)switch(t){case et:return S;case nt:return v;case rt:return s;case ot:return I;case it:return c}return e});var Ct=yt(function(){return arguments}())?yt:function(t){return Et(t)&&U.call(t,"callee")&&!J.call(t,"callee")},At=Array.isArray;var Pt=B||function(){return!1};function zt(t){if(xt(t)){t=gt(t);return t==n||t==o||t==e||t==a}}function Lt(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=h}function xt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Et(t){return null!=t&&"object"==typeof t}var Rt,Bt=P?(Rt=P,function(t){return Rt(t)}):function(t){return Et(t)&&Lt(t.length)&&!!A[gt(t)]};function Tt(t){return(null!=(e=t)&&Lt(e.length)&&!zt(e)?ht:vt)(t);var e}Ft.exports=function(t,e){return _t(t,e)}}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(t,e,n){var r,o,i;r=this,o=function(){var a=null,u={};t("monochrome",null,[[0,0],[100,0]]),t("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),t("orange",[18,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),t("yellow",[46,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),t("green",[62,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),t("blue",[178,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),t("purple",[257,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),t("pink",[282,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]]);function c(t){if(void 0!==(t=t||{}).seed&&null!==t.seed&&t.seed===parseInt(t.seed,10))a=t.seed;else if("string"==typeof t.seed)a=function(t){for(var e=0,n=0;n!==t.length&&!(e>=Number.MAX_SAFE_INTEGER);n++)e+=t.charCodeAt(n);return e}(t.seed);else{if(void 0!==t.seed&&null!==t.seed)throw new TypeError("The seed value must be an integer or string");a=null}var e,n;if(null===t.count||void 0===t.count)return function(t,e){switch(e.format){case"hsvArray":return t;case"hslArray":return g(t);case"hsl":var n=g(t);return"hsl("+n[0]+", "+n[1]+"%, "+n[2]+"%)";case"hsla":var r=g(t),o=e.alpha||Math.random();return"hsla("+r[0]+", "+r[1]+"%, "+r[2]+"%, "+o+")";case"rgbArray":return f(t);case"rgb":return"rgb("+f(t).join(", ")+")";case"rgba":r=f(t),o=e.alpha||Math.random();return"rgba("+r.join(", ")+", "+o+")";default:return function(t){t=f(t);function e(t){t=t.toString(16);return 1==t.length?"0"+t:t}return"#"+e(t[0])+e(t[1])+e(t[2])}(t)}}([e=function(t){{if(0<p.length){var e=h(i=function(t){if(isNaN(t)){if("string"==typeof t)if(u[t]){var e=u[t];if(e.hueRange)return e.hueRange}else if(t.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i))return l(d(t)[0]).hueRange}else{e=parseInt(t);if(e<360&&0<e)return l(t).hueRange}return[0,360]}(t.hue)),n=(i[1]-i[0])/p.length,r=parseInt((e-i[0])/n);!0===p[r]?r=(r+2)%p.length:p[r]=!0;var o=(i[0]+r*n)%359,n=(i[0]+(r+1)*n)%359;return e=(e=h(i=[o,n]))<0?360+e:e}var i=function(t){if("number"==typeof parseInt(t)){var e=parseInt(t);if(e<360&&0<e)return[e,e]}if("string"==typeof t)if(u[t]){e=u[t];if(e.hueRange)return e.hueRange}else if(t.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){t=d(t)[0];return[t,t]}return[0,360]}(t.hue);return e=(e=h(i))<0?360+e:e}}(t),n=function(t,e){if("monochrome"===e.hue)return 0;if("random"===e.luminosity)return h([0,100]);var t=function(t){return l(t).saturationRange}(t),n=t[0],r=t[1];switch(e.luminosity){case"bright":n=55;break;case"dark":n=r-10;break;case"light":r=55}return h([n,r])}(e,t),function(t,e,n){var r=function(t,e){for(var n=l(t).lowerBounds,r=0;r<n.length-1;r++){var o=n[r][0],i=n[r][1],s=n[r+1][0],a=n[r+1][1];if(o<=e&&e<=s){s=(a-i)/(s-o);return s*e+(i-s*o)}}return 0}(t,e),o=100;switch(n.luminosity){case"dark":o=r+20;break;case"light":r=(o+r)/2;break;case"random":r=0,o=100}return h([r,o])}(e,n,t)],t);for(var r=t.count,o=[],i=0;i<t.count;i++)p.push(!1);for(t.count=null;r>o.length;){var s=c(t);null!==a&&(t.seed=a),o.push(s)}return t.count=r,o}var p=[];function l(t){for(var e in 334<=t&&t<=360&&(t-=360),u){var n=u[e];if(n.hueRange&&t>=n.hueRange[0]&&t<=n.hueRange[1])return u[e]}return"Color not found"}function h(t){if(null===a){var e=Math.random();return e+=.618033988749895,e%=1,Math.floor(t[0]+e*(t[1]+1-t[0]))}var n=t[1]||1,e=t[0]||0,t=(a=(9301*a+49297)%233280)/233280;return Math.floor(e+t*(n-e))}function t(t,e,n){var r=n[0][0],o=n[n.length-1][0],i=n[n.length-1][1],s=n[0][1];u[t]={hueRange:e,lowerBounds:n,saturationRange:[r,o],brightnessRange:[i,s]}}function f(t){var e=t[0];360===(e=0===e?1:e)&&(e=359),e/=360;var n=t[1]/100,r=t[2]/100,t=Math.floor(6*e),e=6*e-t,o=r*(1-n),i=r*(1-e*n),s=r*(1-(1-e)*n),a=256,u=256,c=256;switch(t){case 0:a=r,u=s,c=o;break;case 1:a=i,u=r,c=o;break;case 2:a=o,u=r,c=s;break;case 3:a=o,u=i,c=r;break;case 4:a=s,u=o,c=r;break;case 5:a=r,u=o,c=i}return[Math.floor(255*a),Math.floor(255*u),Math.floor(255*c)]}function d(t){t=3===(t=t.replace(/^#/,"")).length?t.replace(/(.)/g,"$1$1"):t;var e=parseInt(t.substr(0,2),16)/255,n=parseInt(t.substr(2,2),16)/255,r=parseInt(t.substr(4,2),16)/255,o=Math.max(e,n,r),i=o-Math.min(e,n,r),s=o?i/o:0;switch(o){case e:return[(n-r)/i%6*60||0,s,o];case n:return[60*((r-e)/i+2)||0,s,o];case r:return[60*((e-n)/i+4)||0,s,o]}}function g(t){var e=t[0],n=t[1]/100,r=t[2]/100,t=(2-n)*r;return[e,Math.round(n*r/(t<1?t:2-t)*1e4)/100,t/2*100]}return c},"object"==typeof n?(i=o(),(n="object"==typeof e&&e&&e.exports?e.exports=i:n).randomColor=i):r.randomColor=o()},{}]},{},[1])(1)});